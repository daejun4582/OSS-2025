<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>Form (JS Validation) - Lab3</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root{
      --bg:#f7f7f9;
      --panel:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --primary:#146EF5;
      --border:#e5e7eb;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; padding:24px; font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Helvetica,Arial,sans-serif;
      background:var(--bg); color:var(--text);
    }
    h1{margin:0 0 8px; font-size:28px}
    p{margin:0 0 20px; color:var(--muted)}

    /* Panel / layout */
    form{
      max-width:800px; margin:0 auto; background:var(--panel);
      padding:24px; border:1px solid var(--border); border-radius:12px;
      box-shadow:0 2px 12px rgba(0,0,0,0.04);
    }
    fieldset{
      margin:18px 0; padding:16px; border:1px solid var(--border); border-radius:10px;
      background:#fff;
    }
    legend{
      padding:0 8px; font-weight:700; color:#111; letter-spacing:.2px;
    }

    /* Labels & controls */
    label{display:block; font-weight:600; margin:12px 0 6px}
    input, select, textarea{
      width:100%;
      border:1px solid var(--border); border-radius:10px; background:#fff;
      padding:12px 14px; font-size:15px; line-height:1.35;
      outline:none; transition:border-color .15s ease, box-shadow .15s ease, background .15s ease;
    }

    input::placeholder{color:#9ca3af}

    input:focus, select:focus, textarea:focus{
      border-color:var(--primary);
      box-shadow:0 0 0 4px rgba(20,110,245,.15);
    }

    /* Radios & checkboxes */
    input[type="radio"], input[type="checkbox"]{width:auto; margin-right:8px}
    input[type="radio"], input[type="checkbox"]{accent-color:var(--primary)}
    /* Keep their labels inline for compact groups */
    p + label, p + label + label, p + label + label + label{display:inline-flex; align-items:center; gap:6px; margin-right:16px}

    /* Number, range, color, file */
    input[type="range"]{width:100%}
    input[type="color"]{padding:0; height:44px; width:64px}
    input[type="file"]{padding:10px}

    /* Helper inputs that shouldn't be full width */
    input[type="time"], input[type="date"]{max-width:260px}
    input[type="number"]{max-width:200px}

    /* Buttons */
    button{cursor:pointer; border:0; border-radius:10px; padding:12px 16px; font-weight:700}
    button[type="submit"]{background:var(--primary); color:#fff}
    button[type="submit"]:hover{filter:brightness(.95)}
    button[type="reset"]{background:#eef2ff; color:#3730a3; margin-left:8px}

    /* Small screens */
    @media (max-width:520px){
      body{padding:16px}
      form{padding:16px}
      input[type="time"], input[type="date"], input[type="number"]{max-width:100%}
    }

    /* Lab3: very simple validation visuals */
    .good{border-color:#16a34a; background:#f0fdf4}
    .bad{border-color:#e11d48; background:#fff1f2}
    small.help{display:block; color:#666; margin-top:4px}
  </style>
</head>
<body>
  <h1>Form tag 연습 - JS Validation (Lab3)</h1>
  <p>과제 조건: 최소 10개 이상의 form element, 5종류 이상 포함. (필수: text, radio, checkbox, select, date, textarea / 선택: fieldset, legend, optgroup, color, datalist)</p>

  <form action="#" method="post" novalidate>
    <!-- 1) Personal Info -->
    <fieldset>
      <legend>1 Personal Info</legend>

      <label for="name">이름 *</label>
      <input type="text" id="name" name="name" required>
      <small id="nameHelp" class="help">2글자 이상 입력</small>
      <br>

      <label for="email">이메일 *</label>
      <input type="email" id="email" name="email" required>
      <small id="emailHelp" class="help"></small>
      <br>

      <label for="tel">전화번호</label>
      <input type="tel" id="tel" name="tel" placeholder="010-1234-5678" pattern="^0\d{1,2}-\d{3,4}-\d{4}$">
      <br>

      <label for="birth">생년월일</label>
      <input type="date" id="birth" name="birth">
      <br>

      <label for="color">좋아하는 색</label>
      <input type="color" id="color" name="color" value="#146EF5">
      <br>

      <label for="country">국가</label>
      <input list="country-list" id="country" name="country" placeholder="대한민국">
      <datalist id="country-list">
        <option value="대한민국"></option>
        <option value="일본"></option>
        <option value="중국"></option>
        <option value="미국"></option>
        <option value="필리핀"></option>
      </datalist>
    </fieldset>

    <!-- 2) Account -->
    <fieldset>
      <legend>2 Account</legend>

      <label for="userid">아이디 *</label>
      <input type="text" id="userid" name="userid" required minlength="4" maxlength="16" autocomplete="username">
      <br>

      <label for="password">비밀번호 *</label>
      <input type="password" id="password" name="password" required minlength="8" autocomplete="new-password">
      <br>

      <label for="avatar">프로필 사진</label>
      <input type="file" id="avatar" name="avatar" accept="image/*">
    </fieldset>

    <!-- 3) Preferences -->
    <fieldset>
      <legend>3 Preferences</legend>

      <p>성별</p>
      <label><input type="radio" name="gender" value="male"> 남성</label>
      <label><input type="radio" name="gender" value="female"> 여성</label>
      <label><input type="radio" name="gender" value="other"> 기타</label>
      <br>

      <p>관심사 (복수 선택)</p>
      <label><input type="checkbox" name="interest" value="sports"> 스포츠</label>
      <label><input type="checkbox" name="interest" value="music"> 음악</label>
      <label><input type="checkbox" name="interest" value="coding"> 코딩</label>
      <br>

      <label for="plan">희망 플랜</label>
      <select id="plan" name="plan">
        <optgroup label="무료">
          <option value="free-basic">Basic</option>
        </optgroup>
        <optgroup label="유료">
          <option value="pro">Pro</option>
          <option value="business">Business</option>
        </optgroup>
      </select>
      <br>

      <label for="quantity">사용 인원 (1~10)</label>
      <input type="number" id="quantity" name="quantity" min="1" max="10" value="1">
      <br>

      <label for="rating">만족도 (0~10)</label>
      <input type="range" id="rating" name="rating" min="0" max="10" step="1" value="5">
      <br>

      <label for="website">웹사이트</label>
      <input type="url" id="website" name="website" placeholder="https://">
      <br>

      <label for="time">통화 가능 시간</label>
      <input type="time" id="time" name="time">
    </fieldset>

    <!-- 4) Address -->
    <fieldset>
      <legend>4 Address</legend>

      <label for="address1">주소 1</label>
      <input type="text" id="address1" name="address1" autocomplete="address-line1">
      <br>

      <label for="address2">주소 2</label>
      <input type="text" id="address2" name="address2" autocomplete="address-line2">
      <br>

      <label for="city">도시</label>
      <input type="text" id="city" name="city" autocomplete="address-level2">
      <br>

      <label for="zip">우편번호</label>
      <input type="text" id="zip" name="zip" inputmode="numeric" pattern="\d{5}" placeholder="5자리">
      <small id="zipHelp" class="help"></small>
    </fieldset>

    <!-- 5) Feedback -->
    <fieldset>
      <legend>5 Feedback</legend>

      <label for="subject">주제</label>
      <select id="subject" name="subject">
        <option value="">-- 선택 --</option>
        <option value="bug">버그 신고</option>
        <option value="feature">기능 제안</option>
        <option value="general">일반 문의</option>
      </select>
      <br>

      <label for="message">메시지</label>
      <textarea id="message" name="message" rows="5" cols="40" placeholder="자유롭게 작성하세요"></textarea>
      <small id="msgCount" class="help">0 / 500</small>
    </fieldset>

    <!-- 6) Consent -->
    <fieldset>
      <legend>6 Consent</legend>
      <label><input type="checkbox" name="tos" required> 이용약관에 동의합니다 *</label>
      <br>
      <label><input type="checkbox" name="newsletter" checked> 뉴스레터 수신</label>
    </fieldset>

    <button type="submit">제출</button>
    <button type="reset">초기화</button>
  </form>
<script>
(function(){
  const $ = (s, r=document) => r.querySelector(s);
  const $$ = (s, r=document) => Array.from(r.querySelectorAll(s));

  const form = $('form');
  const nameEl = $('#name');
  const emailEl = $('#email');
  const telEl = $('#tel');
  const birthEl = $('#birth');
  const passEl = $('#password');
  const genderEls = $$('input[name="gender"]');
  const interestEls = $$('input[name="interest"]');
  const plan = $('#plan');
  const qty = $('#quantity');
  const rating = $('#rating');
  const website = $('#website');
  const zip = $('#zip');
  const msg = $('#message');
  const submitBtn = $$('button[type="submit"]')[0];
  const nameHelp = $('#nameHelp');
  const emailHelp = $('#emailHelp');
  const zipHelp = $('#zipHelp');
  const msgCount = $('#msgCount');

  // Simple visual toggles
  function good(el){ el && (el.classList.remove('bad'), el.classList.add('good')); }
  function bad(el){ el && (el.classList.remove('good'), el.classList.add('bad')); }
  function clear(el){ el && el.classList.remove('good','bad'); }

  // Event demos required by the lab
  rating.addEventListener('input', () => { // onchange equivalent for range
    // also show live number if label span exists later
  });
  plan.addEventListener('change', () => alert('플랜 변경: ' + plan.value)); // alert + onchange

  // onclick: summarize selections into an alert (once something clicked)
  [...genderEls, ...interestEls].forEach(el => {
    el.addEventListener('click', () => {
      const g = genderEls.find(r=>r.checked)?.value || '미선택';
      const i = interestEls.filter(c=>c.checked).map(c=>c.value).join(', ') || '없음';
      console.log('선택 => 성별:', g, ' / 관심사:', i);
    });
  });

  // onmouseover / onmouseout on submit button
  submitBtn.addEventListener('mouseover', () => submitBtn.textContent = '제출 (검증 진행)');
  submitBtn.addEventListener('mouseout',  () => submitBtn.textContent = '제출');

  // onkeydown (message, name)
  msg.addEventListener('keydown', () => {
    const len = msg.value.length; if(msgCount) msgCount.textContent = `${len} / 500`;
  });
  nameEl.addEventListener('keydown', () => {
    if(nameEl.value.trim().length < 2) { if(nameHelp) nameHelp.textContent = '2글자 이상 입력'; }
    else { if(nameHelp) nameHelp.textContent = '좋아요'; }
  });

  // Validators (basic)
  function vName(){ const ok = nameEl.value.trim().length >= 2; ok? good(nameEl):bad(nameEl); return ok; }
  function vEmail(){ const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailEl.value.trim()); ok? (good(emailEl), emailHelp.textContent='') : (bad(emailEl), emailHelp.textContent='이메일 형식 확인'); return ok; }
  function vTel(){ const v = telEl.value.trim(); if(!v){ clear(telEl); return true; } const ok = /^0\d{1,2}-\d{3,4}-\d{4}$/.test(v); ok? good(telEl):bad(telEl); return ok; }
  function vBirth(){ if(!birthEl.value){ clear(birthEl); return true; } const ok = new Date(birthEl.value) <= new Date(); ok? good(birthEl):bad(birthEl); return ok; }
  function vPass(){ const v = passEl.value; const ok = v.length>=8 && /[A-Za-z]/.test(v) && /\d/.test(v); ok? good(passEl):bad(passEl); return ok; }
  function vGender(){ const ok = genderEls.some(r=>r.checked); genderEls.forEach(r=> ok? r.classList.add('good') : r.classList.remove('good')); return ok; }
  function vInterest(){ const ok = interestEls.some(c=>c.checked); interestEls.forEach(c=> ok? c.classList.add('good') : c.classList.remove('good')); return ok; }
  function vQty(){ const n = Number(qty.value); const ok = n>=1 && n<=10; ok? good(qty):bad(qty); return ok; }
  function vURL(){ const v = website.value.trim(); if(!v){ clear(website); return true; } try{ new URL(v); good(website); return true; } catch { bad(website); return false; } }
  function vZip(){ const v = zip.value.trim(); if(!v){ clear(zip); if(zipHelp) zipHelp.textContent=''; return true; } const ok = /^\d{5}$/.test(v); ok? (good(zip), zipHelp && (zipHelp.textContent='')) : (bad(zip), zipHelp && (zipHelp.textContent='5자리 숫자')); return ok; }
  function vMsg(){ const l = msg.value.trim().length; const ok = l>=10 && l<=500; ok? good(msg):bad(msg); return ok; }

  // Live validation bindings
  nameEl.addEventListener('input', vName);
  emailEl.addEventListener('input', vEmail);
  telEl.addEventListener('input', vTel);
  birthEl.addEventListener('change', vBirth);
  passEl.addEventListener('input', vPass);
  qty.addEventListener('input', vQty);
  website.addEventListener('input', vURL);
  zip.addEventListener('input', vZip);
  msg.addEventListener('input', vMsg);

  // Submit
  form.addEventListener('submit', (e) => {
    e.preventDefault();
    const ok = [vName(), vEmail(), vTel(), vBirth(), vPass(), vGender(), vInterest(), vQty(), vURL(), vZip(), vMsg()].every(Boolean);
    if(!ok){ alert('입력값을 다시 확인하세요.'); return; }
    if(confirm('제출하시겠습니까?')){
      alert('제출 완료!');
      form.reset();
      [nameEl,emailEl,telEl,birthEl,passEl,qty,website,zip,msg].forEach(clear);
      if(msgCount) msgCount.textContent = '0 / 500';
    } else {
      alert('제출 취소');
    }
  });
})();
</script>
</body>
</html>